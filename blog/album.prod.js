function throttle(i,e){let t=0;return function(){let a=Date.now(),l=this,n=arguments;a-t>e&&(i.apply(l,n),t=a)}}function openViewer(){$("#album-item-viewer").addClass("in"),closeViewer()}function closeViewer(){$("#album-item-viewer").one("click",function(i){$(this).removeClass("in"),$(".viewer-img img").attr("src","")})}function loadMore(){axios.get(`/album/loadMore?skip=${skip}&limit=${limit}`).then(i=>{skip+=10,loadingStatus=!1,appendChild(i)}).catch(function(i){console.log(i)})}function appendChild(i){let e=i.data.list;0!==e.length?(e.forEach((i,e)=>{let t,a;i.urls.length>0&&(t=$('<div class="album-item-content"><div class="swiper-container"><div class="swiper-wrapper"></div></div></div>'),i.urls.forEach(i=>{let e=$(`<div class="swiper-slide"><img data-src="${i.imgUrl}" src="${i.thumbnailUrl}"/></div>`);t.find(".swiper-wrapper").append(e)})),i.url&&(a=$(`<div class="album-item-content"><img style="width:100%" data-src="${i.url.imgUrl}" src="${i.url.thumbnailUrl}"/></div>`));let l=$(`<div class="album-item"><span class="album-date"> —— ${i.date}</span><p>${i.content}</p></div>`);t&&l.find("p").last().after(t),a&&l.find("p").last().after(a),$(".album").append(l)}),swiper=new Swiper(".swiper-container",{slidesPerView:4,spaceBetween:30})):loadingStatus=!0}var swiper=new Swiper(".swiper-container",{slidesPerView:4,spaceBetween:30});$(".album").on("click",throttle(function(i,e){if("IMG"===i.target.nodeName){var t=$(i.target).attr("data-src");$(".viewer-img img").attr("src",t),openViewer()}},500));let skip=10,limit=10,loadingStatus=!1;$(document).unbind("scroll").bind("scroll",function(i){loadingStatus||$(this).height()-50<=$(this).scrollTop()+$(this.body).height()&&(loadingStatus=!0,loadMore())});